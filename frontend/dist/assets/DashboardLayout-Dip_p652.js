import{r as a,j as e,q as k,F as C,b as F,c as R,d as $,N as E,L as d,e as S,O as L,f as u,g as A,h as I,i as M,k as z,l as O,m as p,n as D,o as P,p as T,s as H,t as V,v as B}from"./index-xC-13q4f.js";function K({title:r,titleId:s,...t},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},t),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const q=a.forwardRef(K);function J({title:r,titleId:s,...t},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},t),r?a.createElement("title",{id:s},r):null,a.createElement("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"}))}const U=a.forwardRef(J),W=({show:r,type:s,message:t,onClose:n})=>e.jsx(k,{show:r,as:a.Fragment,enter:"transform ease-out duration-300 transition",enterFrom:"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2",enterTo:"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed right-4 top-16 z-50",children:e.jsx("div",{className:"pointer-events-auto w-full max-w-sm overflow-hidden rounded-lg bg-white shadow-lg ring-1 ring-black ring-opacity-5",children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:s==="success"?e.jsx(C,{className:"h-6 w-6 text-green-400"}):e.jsx(F,{className:"h-6 w-6 text-red-400"})}),e.jsx("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t})}),e.jsx("div",{className:"ml-4 flex flex-shrink-0",children:e.jsx("button",{type:"button",className:"inline-flex rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",onClick:n,children:e.jsx(U,{className:"h-5 w-5"})})})]})})})})}),G=()=>{var g;const[r]=a.useState(localStorage.getItem("token")),[s]=a.useState(JSON.parse(localStorage.getItem("user")||"{}")),[t,n]=a.useState(!1),[x,m]=a.useState(!1),h=R(),[w,j]=a.useState(!0),[l,c]=a.useState({show:!1,type:"",message:""});a.useEffect(()=>{setTimeout(()=>j(!1),500)},[]);const y=(i,o)=>{c({show:!0,type:i,message:o}),setTimeout(()=>c({show:!1,type:"",message:""}),3e3)},f=[{name:"Dashboard",href:"/",icon:u},{name:"Data Penghuni",href:"/residents",icon:A},{name:"Manajemen Kamar",href:"/rooms",icon:u},{name:"Pembayaran",href:"/payments",icon:I},{name:"Fasilitas",href:"/facilities",icon:M},{name:"Pelaporan Masalah",href:"/problems",icon:z},{name:"Jadwal & Tugas",href:"/tasks",icon:O},{name:"Keamanan",href:"/security",icon:p},{name:"Kebersihan",href:"/maintenance",icon:D},{name:"Laporan",href:"/reports",icon:P},{name:"Inventaris",href:"/inventory",icon:T},{name:"Akademik",href:"/academic",icon:H}],N=()=>{y("success","Berhasil logout"),setTimeout(()=>{localStorage.removeItem("token"),window.location.reload()},1e3)},b=i=>{switch(i==null?void 0:i.toUpperCase()){case"ADMIN":return e.jsx(p,{className:"h-8 w-8 text-purple-600 bg-purple-100 rounded-full p-1"});case"STAFF":return e.jsx(B,{className:"h-8 w-8 text-indigo-600 bg-indigo-100 rounded-full p-1"});default:return e.jsx(V,{className:"h-8 w-8 text-gray-600 bg-gray-100 rounded-full p-1"})}};return w?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsx($,{})}):r?e.jsxs("div",{className:"min-h-screen bg-gray-100 relative",children:[e.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none opacity-10",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%234338ca' fill-opacity='0.15'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundSize:"60px 60px"}}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(W,{show:l.show,type:l.type,message:l.message,onClose:()=>c({...l,show:!1})}),e.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:e.jsx("div",{className:"flex-1 flex flex-col min-h-0 bg-white/90 backdrop-blur-sm border-r border-gray-200",children:e.jsxs("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[e.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:e.jsx(v,{src:"/ADMINCARE.svg",alt:"AdminCare",className:"h-12 w-auto"})}),e.jsx("nav",{className:"mt-5 flex-1 px-2 space-y-1",children:f.map(i=>{const o=h.pathname===i.href;return e.jsxs(d,{to:i.href,className:`
                        group flex items-center px-3 py-2 text-sm font-medium rounded-md
                        transition-all duration-200 ease-in-out
                        ${o?"bg-indigo-50 text-indigo-600 transform scale-105":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}
                      `,children:[e.jsx(i.icon,{className:`
                          mr-3 flex-shrink-0 h-5 w-5
                          transition-colors duration-200 ease-in-out
                          ${o?"text-indigo-500":"text-gray-400 group-hover:text-gray-500"}
                        `}),i.name]},i.name)})})]})})}),e.jsx("div",{className:"lg:hidden",children:t&&e.jsxs("div",{className:"fixed inset-0 flex z-40",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>n(!1)}),e.jsxs("div",{className:"relative flex-1 flex flex-col max-w-xs w-64 bg-white",children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:e.jsxs("button",{className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>n(!1),children:[e.jsx("span",{className:"sr-only",children:"Close sidebar"}),e.jsx(S,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})}),e.jsx(X,{navigation:f,pathname:h.pathname})]})]})}),e.jsxs("div",{className:"lg:pl-64 flex flex-col flex-1",children:[e.jsx("nav",{className:"sticky top-0 z-10 bg-white/90 backdrop-blur-sm shadow",children:e.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between h-16",children:[e.jsx("div",{className:"flex",children:e.jsxs("button",{type:"button",className:"lg:hidden px-4 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",onClick:()=>n(!0),children:[e.jsx("span",{className:"sr-only",children:"Open sidebar"}),e.jsx(q,{className:"h-6 w-6","aria-hidden":"true"})]})}),e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",className:"flex items-center max-w-xs rounded-full focus:outline-none",onClick:()=>m(!x),children:[b(s.role),e.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:s.name})]}),x&&e.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5",children:e.jsxs("div",{className:"py-1",children:[e.jsxs("div",{className:"px-4 py-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.email}),e.jsx("span",{className:`
                              inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium mt-1
                              ${((g=s.role)==null?void 0:g.toUpperCase())==="ADMIN"?"bg-purple-100 text-purple-800":"bg-indigo-100 text-indigo-800"}
                            `,children:s.role})]}),e.jsx("hr",{}),e.jsx(d,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>m(!1),children:"Pengaturan Profil"}),e.jsx("button",{onClick:N,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Keluar"})]})})]})})]})})}),e.jsx("main",{className:"flex-1",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm p-6",children:e.jsx(L,{})})})})]})]})]}):e.jsx(E,{to:"/login"})},X=({navigation:r,pathname:s})=>e.jsxs("div",{className:"flex flex-col flex-grow pt-5",children:[e.jsx("div",{className:"flex items-center justify-center flex-shrink-0 px-4 mb-5",children:e.jsx(v,{src:"/ADMINCARE.svg",alt:"AdminCare",className:"h-12 w-auto"})}),e.jsx("div",{className:"mt-5 flex-grow flex flex-col",children:e.jsx("nav",{className:"flex-1 px-2 pb-4 space-y-1",children:r.map(t=>{const n=s===t.href;return e.jsxs(d,{to:t.href,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-md ${n?"bg-gray-100 text-indigo-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[e.jsx(t.icon,{className:`mr-3 flex-shrink-0 h-5 w-5 ${n?"text-indigo-500":"text-gray-400 group-hover:text-gray-500"}`,"aria-hidden":"true"}),t.name]},t.name)})})})]}),v=({src:r,alt:s,...t})=>e.jsx("img",{src:r,alt:s,loading:"lazy",decoding:"async",...t});export{G as default};
